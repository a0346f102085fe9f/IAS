/*
	IAS Default Night Stylesheet v1
	Based on Gruvbox Dark

	Colors:
	- Primary text 		#fbf1c7
	- Secondary text 	#a89984
	- Tertiary text 	#7c6f64

	- Link type A 			#98971a			Internal automatically generated link
	- Link type A :hover	#458588
	- Link type B 			#d79921 		Internal user-made link
	- Link type C 			#8ec07c 		External link
	- Link type C :hover	Primary Text 	

	- Navbar background 	#111111
	- Story background 		#282828
	- Note background 		#3c3836

	- Pillow background 	#eecc66
	- Pillow text 			#3c3836

	- Button text 			#ebdbb2
	- Button background 	#3c3836
	- Button border 		#bdae93

	- Horizontal line 		Tertiary text

	- Status background 	#2C2C2C
	- Status default text	#DCDCDC
	- Status info 			...
	- Status success 		#72D5A3
	- Status error 			#DCA3A3

	- <code> background 	#504945




	- Vibrant red			#fb4934
	- Vibrant green 		#b8bb26
	- Vibrant yellow 		#fabd2f
	- Vibrant blue 			#83a598
	- Vibrant purple 		#d3869b
	- Vibrant aqua 			#8ec07c
	- Vibrant orange 		#fe8019

	- Pale red 				#cc241d
	- Pale green 			#98971a
	- Pale yellow 			#d79921
	- Pale blue 			#458588
	- Pale purple 			#b16286
	- Pale aqua 			#689d6a
	- Pale orange 			#d65d0e
*/


/*
 *
 * GENERIC RULES
 * Layout
 *
 */
html {
	touch-action: manipulation;
}

body {
	background-color: #282828;
	color: #fbf1c7;

	font-size: 15pt;
	margin: 0em;

	word-break: break-word;
}

/* Tiny fonts for mobile devices */
@media (pointer: coarse) {
	body {
		font-size: 11pt;
	}
}

img {
	max-width: 100%;
}

nav {
	background-color: #202020;
	
	position: sticky;
	top: 0px;

	z-index: 10;
}

@media (pointer: fine) {
	nav {
		box-shadow: 0px 0px 12px #000000;
	}
}

content {
	display: block;
	max-width: 48em; /* Seems to be the sweet spot for me */
	margin: 0px auto;
}

h1, h2, h3, h4, h5, h6 {
	margin: 0em;
}

hr {
	border: 1px solid #7c6f64;
}

sup {
	color: #a89984;
}

ol, ul {
	margin: 0em;
}

iframe {
	width: 100%;
	height: 25em;
}

a 			{ text-decoration: none; }
a:hover 	{ text-decoration: underline; }

a 						{ color: #8ec07c; }
a:hover 				{ color: #fbf1c7; }
a.internal 				{ color: #d79921; }
a.internal.auto 		{ color: #98971a; }
a.internal.auto:hover 	{ color: #458588; }

/* Generic hide, float left, float right */
.hide { display: none; }
.flr { float: right; }
.fll { float: left; }

/* Utilized by blink() */
.attention {
	background-color: #fbf1c7 !important;
}

/*
 *
 * TABLES
 * Layout
 *
 */
table {
	border-collapse: collapse;
	border-spacing: 0;
	caption-side: bottom;
	
	box-shadow: 2px 2px #dfd9c0;
}

td, th {
	padding: .2em 1em;
	border: 1.5px solid;
}


/*
 *
 * VARIOUS INPUT ELEMENTS
 * Layout
 *
 */
textarea {
	color: inherit;
	background-color: #282828;

	white-space: pre-wrap;

	box-sizing: border-box;
	width: 100%;
	border: 0em;
	margin: 0em;
	padding: 0em;

	font-size: inherit;
	font-family: inherit;

	overflow-y: hidden; /* Fixes some glitches when using scrollHeight to grow the height */
}

input[type="text"] {
	color: inherit;
	background-color: #282828;

	box-sizing: border-box;
	width: 100%;

	font-size: inherit;
	font-family: inherit;
}

select {
	color: inherit;
	background-color: #282828;

	box-sizing: border-box;
	width: 100%;
}

/*
 *
 * CODE BLOCKS
 * Layout
 *
 */
code {
	display: inline-block;
	width: 100%;

	box-sizing: border-box;
	padding: 0em .2em;
	
	border-radius: 3px;
	
	white-space: pre;
	font-family: monospace;
	font-size: 75%;
	
	background-color: #504945;
	color: #fb4934;
	
	overflow: auto;
}

code a {
	color: #ff5914;
	font-weight: bold;
}

/* Inline code */
code.inline {
	display: inline;
}

code.inline.large {
	line-height: 1.35;
	font-size: 125%;
}

/* Build cool looking consoles out of code blocks */
code.long {
	min-height: 15em;
}

code.blinker::after{
	content: "_";
}

/* Enable GPU-intensive effects only on desktop devices */
@media (pointer: fine) {
	code.glows {
		text-shadow: 0px 0px 40px;
	}
}


/*
 *
 * BUTTONS
 * Layout and logic
 *
 */
/* Button type A: simple content, text-align: center; */
button {
	background-color: #3c3836;
	color: #ebdbb2;
	border: 1px solid #bdae93;
	cursor: pointer;
}

/* Button type B: complex content, text-align: left; */
button * {
	text-align: left;
}

/* Button colors */
button:hover {
	background-color: #7c6f64;
}

button[disable="true"] {
	cursor: default;
	color: #7c6f64;
}

button[disable="true"]:hover {
	background-color: #3c3836;
}

button.alert {
	background: linear-gradient(#d65d0e 0%, #3c3836 50%);
	border-color: #fe8019;
}

button.alert:hover {
	background: linear-gradient(#fe8019 0%, #3c3836 50%);
}

/*
 *
 * NAVIGATION BAR
 * Layout and logic
 *
 */
.nav_topbar {
	padding: .2em;
	display: grid;
	align-items: center;
}

.nav_search {
	display: none;
	max-height: 1.2em;
	justify-self: right;
}

.nav_buttons button {
	height: 3em;
	width: 6em;
}

/* If narrow, topbar grid switches to rows */
/* Button grid is engaged to stretch them */
@media (max-width: 65em) {
	.nav_topbar {
		grid-template-rows: auto auto;
	}

	.nav_buttons {
		display: grid;
		grid-auto-flow: column;
		grid-auto-columns: 1fr;
	}

	.nav_buttons button {
		width: unset;
	}

	.nav_search {
		margin-top: .2em;
		display: none;
	}

	.nav_search.open {
		display: block;
	}
}

/* If wide, topbar grid switches to columns */
/* Search becomes visible, width always 25em */
@media (min-width: 65em) {
	.nav_topbar {
		grid-template-columns: auto auto;
	}

	.nav_search {
		margin: 0em 1em;
		max-width: 25em;
	}
}

.nav_dropdown {
	background-color: inherit;
	padding: 1em;

	overflow: auto;
	max-height: 33em;

	display: none;
}

/* If narrow, switch to reduced padding */
@media (max-width: 60em) {
	.nav_dropdown { padding: 1em .5em; }
}

.nav_dropdown.open { display: block; }

/* If VERY wide, dropdown relocates to the side and doesn't obscure notes */
@media (min-width: 120em) {
	.nav_dropdown {
		float: left;
		max-height: 60em;
	}
}


/*
 *
 * NOTE
 * Layout and logic
 *
 */
content .box {
	background-color: #3c3836;
	
	min-height: 5em;
	margin: 1em 0px;
	padding: 1em;

	border-radius: 10px;
}

/* If narrow, switch to reduced padding */
@media (max-width: 60em) {
	content .box { padding: 1em .5em; }
}

.note_header {
	display: grid;
	grid-template-columns: 1fr auto;
	grid-gap: 1em;
}

.note_title {
	color: #a89984;

	font-size: 250%;
}

.note_date {
	color: #7c6f64;

	margin-bottom: 1em;
}

.note_tools button {
	min-width: 5em;
	min-height: 5em;
}

.note_body {
	white-space: pre-wrap;
}

.editing {
	background-color: #282828;
}


/*
 *
 * DROPDOWNS
 * Layout and logic
 *
 */
.dropdown_root {
	position: relative;
}

.dropdown {
	background-color: #3c3836;

	position: absolute;

	box-sizing: border-box;
	padding: 0em 1em 1em 1em;
	border-radius: 0px 0px 5px 5px;
}

.dropdown button {
	min-height: auto;
	min-width: 100%;
}


/*
 *
 * STATUS- (NOTIFICATION-) BOXES
 * Layout and logic
 *
 */
.status_area {
	position: fixed;
	
	top: 0px;
	right: 0px;
	margin: 1em;

	z-index: 10;
}

.status_box {
	background-color: #2C2C2C;
	color: #DCDCDC;

	min-height: 3em;
	min-width: 15em;

	padding: 1em;

	border-radius: 5px;
}

.status_box.success { color: #72D5A3; }
.status_box.error 	{ color: #DCA3A3; }

.status_box.success hr { border-color: #72D5A3; }
.status_box.error 	hr { border-color: #DCA3A3; }


/*
 *
 * PROGRESS BARS
 * Layout
 *
 */
.progress {
	background-color: #202020;
	min-height: .1em;
	width: 100%;
	
	text-align: center;
	position: relative;
}

.progress .bar {
	height: 100%;
	width: 0%;
	
	background-color: #ff8001;
	mix-blend-mode: difference;
	
	position: absolute;
	left: 0px;
}


/*
 *
 * SEARCH RESULTS
 * Layout
 *
 */
.search_result { 
	margin: .5em 0em;
}

.result_title a {
	vertical-align: text-bottom;
}


/*
 *
 * TAGS
 * Layout
 *
 */
.tag {
	background-color: #eecc66;
	color: #3c3836;

	display: inline-block;

	border-radius: 1em;
	line-height: 1.2em;
	padding: 0em .4em;
	margin: 0em .1em;
}

.tag_list {
	line-height: 1.5em;
}


/*
 *
 * DRAG-AND-DROP
 * Layout and logic
 *
 */
.drag_and_drop_area {
	width: 100%;
	height: 15em;
	box-sizing: border-box;
	border: 1px solid;

	display: grid;
	justify-content: center;
	align-content: center;
}

/* Drop areas all start attenting when something is being dragged over the window */
.drag_and_drop_area.attenting {
	background-color: #d79921;
}

/* A specific area becomes ready if something is being dragged over it in particular */
.drag_and_drop_area.attenting.ready {
	background-color: #98971a;
}

/* Pretty effects for powerful GPUs */
@media (pointer: fine) {
	.drag_and_drop_area {
		transition: background-color 500ms;
	}
}


/*
 *
 * ADVANCED RULER
 * Layout
 * Any tags that change font size must be outside
 * Example: <h3><ruler>Hello World!</ruler></h3>
 *
 */
ruler {
	display: grid;
	grid-template-columns: 1em auto 1fr;
	align-items: center;
	grid-gap: 1em;
	height: 1.5em;
}

ruler:before {
	content: '';
	height: .15ex;
	background-color: #7c6f64;
	margin-top: .4ex;
}

ruler:after {
	content: '';
	height: .15ex;
	background-color: #7c6f64;
	margin-top: .4ex;
}
